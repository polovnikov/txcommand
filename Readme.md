# Скрипт для управления модулями Teamcast из командной строки
Скрипт txcommand.py предназначен для посылки TX команд модулям Teamcast из командной строки, используя IP протокол. Также этот скрипт может использоваться в составе скриптов для одновременного изменения настроек некоторого количества модулей.

## Установка

Для работы скрипта на компьютере должен быть установлен интерпретатор Python 2.7.  Дистрибутив можно загрузить по ссылке https://www.python.org/downloads/

Загрузить с https://codeload.github.com/polovnikov/txcommand/zip/master и распаковать архив txcommand_master.zip. Запустить терминал в директории, содержащей скрипт.

## Использование
Формат команды:
~~~~
python txcommand.py <ip> <tx_command> [--timeout]
~~~~

* ip - IP адрес модуля Teamcast
* tx_command - TX команда, набранная без пробелов и знаков переноса. Например TX21A000  - команда для запроса источника транспортного потока для первого входа модуля MT2.

**Опциональные аргументы:**

* -h, --help - вывод справки
* --timeout - максимальное время, выделяемое на отправку команды и получение ответа. Значение по умолчанию - 1.0 с.

В случае успешной отправки команды скрипт txcommand.py возвращает значение 0 и выводит в стандартный поток вывода отклик, полученный от модуля. В случае ошибки скрипт возвращает значение 255 и выводит в поток вывода ошибок сообщение об ошибке.

**Пример:** 
Посылка команды для установки входа ASI1 в качестве источника транспортного потока для входа 1.

~~~~
>>python txcommand.py 192.168.4.234 TX21200001000000
TX21200001000000
~~~~

Для одновременного изменения настроек нескольких модулей можно составить скрипт, содержащий требуемое количество команд

~~~~
set_ASI1.bat:
python txcommand.py 192.168.4.234 TX21200001000000
python txcommand.py 192.168.4.235 TX21200001000000
python txcommand.py 192.168.4.236 TX21200001000000
python txcommand.py 192.168.4.237 TX21200001000000

~~~~
